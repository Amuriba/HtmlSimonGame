<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Simon Dice</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
      font-family: 'Poppins', sans-serif;
      background: #ffffff;
      color: #333;
      text-align: center;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      padding: 10px;
        place-items: center;
    }

    .game-container {
      background: #fff;
      border: 1px solid #ddd;
      border-radius: 12px;
      padding: 20px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      max-width: 400px;
      width: 100%;
    }

    h1 {
      font-size: 2.5em;
      margin-bottom: 20px;
      text-shadow: 0 0 10px lightgreen;
    }

    .board {
      display: grid;
      grid-template-columns: repeat(2, 150px);
      grid-template-rows: repeat(2, 150px);
      gap: 15px;
      justify-content: center;  /* Centra horizontalmente */
      margin: 20px auto;
    }

    .btn {
      width: 150px;
      height: 150px;
      border: none;
      border-radius: 20%;
      box-shadow: inset 0 0 10px #00000020, 0 4px 12px rgba(0,0,0,0.2);
      transition: all 0.2s ease;
    }

    .btn:active, .btn.active {
      transform: scale(0.95);
      box-shadow: 0 0 20px #999;
      filter: brightness(1.3);
    }

    .green  { background: #4caf50; box-shadow: 0 0 6px #4caf50; }
    .red    { background: #f44336; box-shadow: 0 0 6px #f44336; }
    .blue   { background: #2196f3; box-shadow: 0 0 6px #2196f3; }
    .yellow { background: #ffeb3b; color: #333; box-shadow: 0 0 6px #ffeb3b; }

    button#start {
      margin-top: 20px;
      padding: 12px 24px;
      background: #4CAF50;
      color: white;
      font-weight: bold;
      font-size: 1.1em;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
      transition: all 0.2s ease-in-out;
    }

    button#start:hover {
      background: #43a047;
      transform: scale(1.05);
      box-shadow: 0 6px 12px rgba(0,0,0,0.3);
    }

    .fullscreen-btn {
      background-color: #333;
      color: white;
      border: none;
      padding: 10px 15px;
      font-size: 1em;
      display: flex;
      align-items: center;
      gap: 8px;
      cursor: pointer;
      border-radius: 5px;
      margin-top: 20px;
    }

    .fullscreen-btn svg {
      fill: white;
    }

    #score {
      margin-top: 20px;
      font-size: 1.5em;
      font-weight: bold;
      color: #2196f3;
      text-shadow: 0 0 5px #90caf9;
    }

    #gamestate {
      margin-top: 10px;
      font-size: 1.2em;
      font-style: italic;
    }

    @media (max-width: 600px) {
      .board {
        grid-template-columns: repeat(2, 120px);
        grid-template-rows: repeat(2, 120px);
        gap: 10px;
      }
      .btn {
        width: 120px;
        height: 120px;
      }
    }
  </style>
</head>
<body>
  <div class="game-container">
    <button onclick="activarPantallaCompleta()" class="fullscreen-btn">
      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24">
        <path d="M4 4h6V2H2v8h2V4zm16 0v6h2V2h-8v2h6zM4 20v-6H2v8h8v-2H4zm16-6v6h-6v2h8v-8h-2z"/>
      </svg>
      Pantalla Completa
    </button>

    <div id="score">Puntaje: 0</div>
    <h2 id="gamestate"></h2>

    <div class="board">
      <div class="btn green"  data-id="0"></div>
      <div class="btn red"    data-id="1"></div>
      <div class="btn yellow" data-id="2"></div>
      <div class="btn blue"   data-id="3"></div>
    </div>

    <button id="start">Iniciar Juego</button>
<br>

      <svg id="svg" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="250"
    height="250" viewBox="0, 0, 400,400">
    <g id="svgg">
      <path id="path0"
        d="M266.000 151.167 L 266.000 168.333 271.917 168.333 L 277.833 168.333 277.833 151.167 L 277.833 134.000 271.917 134.000 L 266.000 134.000 266.000 151.167 M307.833 156.750 L 291.917 172.667 296.125 176.875 L 300.333 181.083 316.333 165.084 L 332.332 149.085 328.209 144.959 C 325.941 142.690,324.010 140.833,323.918 140.833 C 323.825 140.833,316.587 147.996,307.833 156.750 M91.166 165.677 C 76.532 167.233,63.908 179.709,61.732 194.768 C 58.242 218.906,79.468 238.808,103.114 233.568 C 115.047 230.924,125.492 220.966,128.229 209.625 L 128.340 209.167 121.367 209.167 L 114.395 209.167 114.099 209.792 C 110.611 217.162,102.158 221.883,93.757 221.153 C 75.626 219.579,67.867 197.290,81.023 184.575 C 91.275 174.666,107.266 177.428,114.201 190.306 L 114.484 190.833 121.412 190.833 L 128.340 190.833 128.230 190.375 C 127.049 185.439,123.585 179.547,119.432 175.408 C 111.801 167.801,102.218 164.502,91.166 165.677 M135.167 200.085 L 135.167 234.670 141.792 234.627 L 148.417 234.583 148.459 200.042 L 148.501 165.500 141.834 165.500 L 135.167 165.500 135.167 200.085 M175.269 179.183 C 166.426 180.116,160.815 184.063,158.496 190.985 C 157.982 192.520,157.333 195.884,157.333 197.017 L 157.333 197.667 163.895 197.667 L 170.457 197.667 170.649 196.708 C 171.569 192.127,174.180 190.260,179.667 190.260 C 185.559 190.260,188.159 191.964,188.196 195.849 C 188.228 199.211,187.157 199.799,178.500 201.172 C 168.842 202.705,165.803 203.593,162.451 205.867 C 153.969 211.621,154.017 227.265,162.532 232.256 C 169.068 236.086,180.879 235.062,187.458 230.095 L 188.667 229.183 188.667 231.925 L 188.667 234.667 195.250 234.667 L 201.833 234.667 201.833 213.958 C 201.832 189.939,201.896 190.942,200.140 187.413 C 197.165 181.436,186.709 177.976,175.269 179.183 M266.310 179.409 C 255.101 181.020,245.792 189.892,243.307 201.333 C 242.423 205.403,242.814 211.970,244.186 216.078 C 246.814 223.951,254.108 231.178,262.000 233.728 C 278.378 239.020,295.675 227.807,297.825 210.504 C 300.095 192.228,284.460 176.800,266.310 179.409 M238.583 179.501 C 233.033 180.178,227.442 183.307,224.196 187.552 L 223.583 188.353 223.538 185.010 L 223.493 181.667 218.689 181.667 C 216.046 181.667,213.198 181.618,212.359 181.558 L 210.833 181.450 210.833 208.058 L 210.833 234.667 217.417 234.667 L 224.000 234.667 224.000 220.827 C 224.000 204.017,224.059 203.252,225.586 200.083 C 228.147 194.771,232.988 192.293,240.083 192.661 L 241.583 192.739 241.578 191.620 C 241.575 191.004,241.557 187.987,241.536 184.917 L 241.500 179.333 240.542 179.356 C 240.015 179.369,239.133 179.434,238.583 179.501 M272.893 192.505 C 282.091 193.835,287.622 204.386,283.679 213.082 C 279.721 221.811,268.745 224.582,261.479 218.687 C 249.532 208.995,257.679 190.306,272.893 192.505 M306.167 200.417 L 306.167 206.333 323.750 206.333 L 341.333 206.333 341.333 200.417 L 341.333 194.500 323.750 194.500 L 306.167 194.500 306.167 200.417 M188.000 211.260 C 188.000 219.786,185.844 223.197,179.417 224.837 C 173.348 226.385,169.443 223.941,169.427 218.583 C 169.414 213.970,171.728 211.821,177.847 210.764 C 181.022 210.216,185.373 209.002,186.583 208.326 C 187.225 207.968,187.806 207.673,187.875 207.671 C 187.944 207.668,188.000 209.284,188.000 211.260 "
        stroke="none" fill="#fbfbfb" fill-rule="evenodd"></path>
      <path id="path1"
        d="M193.667 33.766 C 184.557 34.263,179.814 34.743,173.151 35.840 C 153.828 39.024,134.775 45.961,117.417 56.133 C 111.368 59.677,105.822 63.453,99.534 68.309 C 91.843 74.248,81.475 84.309,74.506 92.595 C 62.505 106.864,53.586 122.306,46.117 141.750 C 32.329 177.647,32.445 223.200,46.417 259.000 C 46.542 259.321,46.881 260.221,47.171 261.000 C 51.348 272.239,59.461 287.341,66.555 297.083 C 69.755 301.477,72.330 304.820,74.506 307.405 C 79.897 313.811,87.904 321.936,93.570 326.750 C 94.109 327.208,94.633 327.662,94.734 327.758 C 94.979 327.993,98.814 331.135,99.534 331.691 C 143.676 365.779,199.700 375.356,252.250 357.796 C 258.350 355.758,271.117 350.446,272.583 349.337 C 272.675 349.267,273.688 348.736,274.833 348.156 C 278.044 346.531,283.439 343.476,285.833 341.927 C 286.154 341.720,287.167 341.080,288.083 340.505 C 291.253 338.518,299.968 332.283,301.206 331.116 C 301.322 331.006,301.792 330.620,302.250 330.258 C 312.412 322.220,325.970 307.933,332.545 298.333 C 332.702 298.104,333.364 297.167,334.017 296.250 C 340.326 287.389,346.335 276.509,350.992 265.519 C 359.782 244.774,363.945 224.367,364.088 201.333 C 364.222 179.696,360.930 160.459,353.907 141.833 C 352.366 137.748,352.021 136.880,350.791 134.000 C 340.089 108.951,322.674 85.897,302.250 69.742 C 301.792 69.380,301.322 68.994,301.206 68.884 C 299.968 67.717,291.253 61.482,288.083 59.495 C 287.167 58.920,286.154 58.280,285.833 58.072 C 284.967 57.511,281.328 55.333,281.256 55.333 C 281.222 55.333,280.644 55.009,279.972 54.614 C 260.542 43.172,235.847 35.799,210.917 33.995 C 208.467 33.818,195.802 33.650,193.667 33.766 M278.000 151.250 L 278.000 168.500 272.000 168.500 L 266.000 168.500 266.000 151.250 L 266.000 134.000 272.000 134.000 L 278.000 134.000 278.000 151.250 M328.207 144.790 C 330.477 147.058,332.333 148.990,332.333 149.082 C 332.333 149.175,325.134 156.450,316.334 165.250 L 300.334 181.248 296.083 177.000 L 291.832 172.752 307.874 156.709 C 316.697 147.886,323.953 140.667,323.998 140.667 C 324.044 140.667,325.938 142.522,328.207 144.790 M98.585 165.507 C 112.188 166.611,124.304 176.501,128.092 189.594 C 128.250 190.138,128.414 190.677,128.457 190.792 C 128.519 190.956,127.050 191.000,121.455 191.000 L 114.374 191.000 114.151 190.458 C 113.634 189.200,111.528 186.345,109.925 184.727 C 99.891 174.604,82.876 177.685,76.554 190.769 C 74.649 194.711,74.046 201.290,75.201 205.528 C 80.166 223.746,104.603 226.772,113.706 210.297 L 114.417 209.010 121.458 209.005 C 125.331 209.002,128.500 209.036,128.500 209.081 C 128.500 209.977,126.135 215.577,124.801 217.841 C 111.343 240.670,77.959 239.824,65.290 216.333 C 56.263 199.595,63.039 177.859,80.075 168.906 C 85.284 166.169,91.862 164.961,98.585 165.507 M148.500 200.000 L 148.500 234.667 141.750 234.667 L 135.000 234.667 135.000 200.111 C 135.000 181.106,135.050 165.506,135.111 165.444 C 135.172 165.383,138.210 165.333,141.861 165.333 L 148.500 165.333 148.500 200.000 M185.417 179.259 C 192.863 180.249,198.296 183.315,200.403 187.716 C 201.987 191.024,201.997 191.191,201.999 214.542 L 202.000 234.667 195.254 234.667 L 188.508 234.667 188.463 232.080 L 188.417 229.494 187.305 230.305 C 178.241 236.915,163.317 235.932,158.451 228.405 C 155.716 224.174,155.346 216.323,157.650 211.400 C 160.506 205.296,164.736 203.259,179.416 200.915 C 186.408 199.798,187.408 199.354,188.021 197.092 C 189.144 192.954,185.935 190.344,179.717 190.336 C 174.354 190.330,171.517 192.307,170.789 196.559 L 170.599 197.667 163.871 197.667 L 157.143 197.667 157.251 196.708 C 158.406 186.523,163.305 181.154,173.044 179.399 C 175.895 178.885,182.078 178.815,185.417 179.259 M274.470 179.348 C 296.818 182.396,306.069 210.706,289.981 226.816 C 272.380 244.441,242.774 232.066,242.774 207.083 C 242.774 189.778,257.361 177.014,274.470 179.348 M241.557 181.042 C 241.617 182.073,241.665 185.147,241.666 187.872 L 241.667 192.828 238.875 192.724 C 232.866 192.499,228.113 195.142,225.691 200.054 C 224.146 203.186,224.010 204.959,224.004 222.042 L 224.000 234.667 217.417 234.667 L 210.833 234.667 210.833 208.083 L 210.833 181.500 215.542 181.501 C 218.131 181.501,220.981 181.550,221.875 181.609 L 223.500 181.717 223.500 184.980 L 223.500 188.243 224.036 187.580 C 228.241 182.374,233.720 179.681,241.100 179.190 C 241.429 179.168,241.455 179.273,241.557 181.042 M266.893 192.749 C 258.077 194.762,253.276 205.165,257.347 213.435 C 262.603 224.113,277.269 224.507,283.065 214.126 C 287.484 206.211,283.623 196.039,275.091 193.122 C 273.279 192.502,268.854 192.301,266.893 192.749 M341.333 200.333 L 341.333 206.333 323.750 206.333 L 306.167 206.333 306.167 200.333 L 306.167 194.333 323.750 194.333 L 341.333 194.333 341.333 200.333 M186.688 208.365 C 185.383 209.090,181.702 210.128,177.917 210.836 C 171.243 212.086,168.970 214.513,169.534 219.783 C 170.041 224.510,174.504 226.383,180.533 224.400 C 185.945 222.620,187.752 219.579,187.948 211.917 C 188.069 207.208,188.184 207.533,186.688 208.365 "
        stroke="none" fill="#cc242c" fill-rule="evenodd"></path>
      <path id="path2"
        d="M277.914 151.250 C 277.914 160.783,277.934 164.659,277.958 159.862 C 277.983 155.066,277.983 147.266,277.958 142.529 C 277.934 137.792,277.914 141.717,277.914 151.250 M328.083 144.833 C 330.374 147.125,332.285 149.000,332.331 149.000 C 332.377 149.000,330.540 147.125,328.250 144.833 C 325.960 142.542,324.048 140.667,324.003 140.667 C 323.957 140.667,325.793 142.542,328.083 144.833 M94.542 165.456 C 95.069 165.490,95.931 165.490,96.458 165.456 C 96.985 165.423,96.554 165.396,95.500 165.396 C 94.446 165.396,94.015 165.423,94.542 165.456 M135.082 200.083 C 135.082 219.150,135.101 226.925,135.125 217.362 C 135.149 207.798,135.149 192.198,135.125 182.695 C 135.101 173.192,135.082 181.017,135.082 200.083 M269.208 179.115 C 269.369 179.157,269.631 179.157,269.792 179.115 C 269.952 179.073,269.821 179.039,269.500 179.039 C 269.179 179.039,269.048 179.073,269.208 179.115 M270.875 179.115 C 271.035 179.157,271.298 179.157,271.458 179.115 C 271.619 179.073,271.487 179.039,271.167 179.039 C 270.846 179.039,270.715 179.073,270.875 179.115 M219.621 181.620 C 219.917 181.657,220.442 181.658,220.788 181.622 C 221.134 181.586,220.892 181.555,220.250 181.555 C 219.608 181.554,219.325 181.583,219.621 181.620 M241.557 182.917 C 241.558 183.650,241.587 183.929,241.622 183.537 C 241.657 183.145,241.657 182.545,241.621 182.204 C 241.585 181.863,241.557 182.183,241.557 182.917 M250.912 187.208 L 249.750 188.417 250.958 187.254 C 252.081 186.175,252.243 186.000,252.121 186.000 C 252.095 186.000,251.551 186.544,250.912 187.208 M269.875 192.453 C 270.127 192.491,270.540 192.491,270.792 192.453 C 271.044 192.415,270.837 192.383,270.333 192.383 C 269.829 192.383,269.623 192.415,269.875 192.453 M74.557 199.917 C 74.558 200.650,74.587 200.929,74.622 200.537 C 74.657 200.145,74.657 199.545,74.621 199.204 C 74.585 198.863,74.557 199.183,74.557 199.917 M298.055 207.083 C 298.055 207.725,298.086 207.967,298.122 207.621 C 298.158 207.275,298.157 206.750,298.120 206.455 C 298.083 206.159,298.054 206.442,298.055 207.083 M224.039 208.000 C 224.039 208.321,224.073 208.452,224.115 208.292 C 224.157 208.131,224.157 207.869,224.115 207.708 C 224.073 207.548,224.039 207.679,224.039 208.000 M119.324 224.792 L 118.750 225.417 119.375 224.842 C 119.957 224.308,120.077 224.167,119.949 224.167 C 119.922 224.167,119.640 224.448,119.324 224.792 M188.234 229.526 C 188.161 229.643,188.188 229.673,188.303 229.602 C 188.439 229.518,188.505 230.216,188.542 232.118 L 188.592 234.750 188.630 232.042 C 188.664 229.527,188.577 228.971,188.234 229.526 "
        stroke="none" fill="#d4353d" fill-rule="evenodd"></path>
      <path id="path3"
        d="M138.364 165.458 C 140.168 165.485,143.168 165.485,145.031 165.458 C 146.893 165.431,145.417 165.409,141.750 165.409 C 138.083 165.409,136.560 165.431,138.364 165.458 M119.500 175.417 C 119.811 175.737,120.103 176.000,120.149 176.000 C 120.195 176.000,119.978 175.737,119.667 175.417 C 119.356 175.096,119.064 174.833,119.018 174.833 C 118.972 174.833,119.189 175.096,119.500 175.417 M216.875 181.623 C 217.310 181.657,218.023 181.657,218.458 181.623 C 218.894 181.588,218.537 181.560,217.667 181.560 C 216.796 181.560,216.440 181.588,216.875 181.623 M109.833 184.583 C 110.144 184.904,110.436 185.167,110.482 185.167 C 110.528 185.167,110.311 184.904,110.000 184.583 C 109.689 184.262,109.397 184.000,109.351 184.000 C 109.305 184.000,109.522 184.262,109.833 184.583 M241.557 185.417 C 241.558 186.150,241.587 186.429,241.622 186.037 C 241.657 185.645,241.657 185.045,241.621 184.704 C 241.585 184.363,241.557 184.683,241.557 185.417 M117.970 190.958 C 119.924 190.985,123.074 190.985,124.970 190.958 C 126.865 190.931,125.267 190.910,121.417 190.910 C 117.567 190.910,116.015 190.932,117.970 190.958 M237.042 192.615 C 237.202 192.657,237.465 192.657,237.625 192.615 C 237.785 192.573,237.654 192.539,237.333 192.539 C 237.012 192.539,236.881 192.573,237.042 192.615 M314.971 194.458 C 319.859 194.483,327.809 194.483,332.638 194.458 C 337.466 194.434,333.467 194.414,323.750 194.414 C 314.033 194.414,310.083 194.434,314.971 194.458 M117.970 209.125 C 119.924 209.152,123.074 209.151,124.970 209.125 C 126.865 209.098,125.267 209.076,121.417 209.076 C 117.567 209.076,116.015 209.098,117.970 209.125 M249.833 225.719 C 249.833 225.748,250.077 225.991,250.375 226.260 L 250.917 226.750 250.427 226.208 C 249.971 225.703,249.833 225.590,249.833 225.719 M251.167 227.052 C 251.167 227.081,251.410 227.325,251.708 227.594 L 252.250 228.083 251.760 227.542 C 251.304 227.037,251.167 226.923,251.167 227.052 M94.125 234.451 C 94.331 234.491,94.669 234.491,94.875 234.451 C 95.081 234.411,94.912 234.379,94.500 234.379 C 94.087 234.379,93.919 234.411,94.125 234.451 M96.294 234.451 C 96.501 234.491,96.801 234.490,96.960 234.448 C 97.120 234.406,96.950 234.374,96.583 234.375 C 96.217 234.377,96.086 234.411,96.294 234.451 M270.042 235.115 C 270.202 235.157,270.465 235.157,270.625 235.115 C 270.785 235.073,270.654 235.039,270.333 235.039 C 270.012 235.039,269.881 235.073,270.042 235.115 "
        stroke="none" fill="#df7377" fill-rule="evenodd"></path>
      <path id="path4"
        d="M316.292 165.124 L 300.334 181.082 296.126 176.916 L 291.917 172.751 296.125 177.000 L 300.334 181.249 316.375 165.208 C 325.198 156.385,332.379 149.167,332.333 149.167 C 332.287 149.167,325.069 156.348,316.292 165.124 M268.969 168.458 C 270.648 168.485,273.348 168.485,274.969 168.458 C 276.590 168.431,275.217 168.409,271.917 168.409 C 268.617 168.409,267.290 168.431,268.969 168.458 M71.910 175.042 L 71.083 175.917 71.958 175.090 C 72.771 174.321,72.910 174.167,72.785 174.167 C 72.759 174.167,72.365 174.560,71.910 175.042 M213.625 181.623 C 214.106 181.657,214.894 181.657,215.375 181.623 C 215.856 181.589,215.463 181.562,214.500 181.562 C 213.537 181.562,213.144 181.589,213.625 181.623 M241.564 188.583 C 241.564 189.683,241.591 190.112,241.624 189.535 C 241.656 188.959,241.656 188.059,241.623 187.535 C 241.590 187.012,241.563 187.483,241.564 188.583 M178.288 190.287 C 178.584 190.324,179.109 190.324,179.455 190.288 C 179.800 190.252,179.558 190.222,178.917 190.221 C 178.275 190.221,177.992 190.250,178.288 190.287 M201.914 214.583 C 201.914 225.675,201.934 230.237,201.958 224.721 C 201.983 219.205,201.983 210.130,201.958 204.555 C 201.934 198.979,201.914 203.492,201.914 214.583 M242.718 207.083 C 242.719 207.633,242.750 207.838,242.787 207.539 C 242.825 207.239,242.824 206.789,242.786 206.539 C 242.748 206.288,242.717 206.533,242.718 207.083 M255.709 207.083 C 255.711 207.450,255.745 207.580,255.785 207.373 C 255.824 207.166,255.823 206.866,255.781 206.706 C 255.739 206.547,255.707 206.717,255.709 207.083 M80.167 214.552 C 80.167 214.581,80.410 214.825,80.708 215.094 L 81.250 215.583 80.760 215.042 C 80.304 214.537,80.167 214.423,80.167 214.552 M259.833 217.219 C 259.833 217.248,260.077 217.491,260.375 217.760 L 260.917 218.250 260.427 217.708 C 259.971 217.203,259.833 217.090,259.833 217.219 M95.292 221.284 C 95.498 221.324,95.835 221.324,96.042 221.284 C 96.248 221.245,96.079 221.212,95.667 221.212 C 95.254 221.212,95.085 221.245,95.292 221.284 "
        stroke="none" fill="#e49494" fill-rule="evenodd">
      </path>
    </g>
  </svg>
  </div>

  <footer style="margin-top: 40px; color: #888; font-size: 0.9em;">
    &copy; 2025 Andres MB. Juego Simon Dice Claro
  </footer>

   <script>
    const buttons = document.querySelectorAll('.btn');
    const startBtn = document.getElementById('start');
    //<img src="claro-logo-png-transparent.png" alt="Logo Simon Dice" class="logo" />
    let sequence = [];
    let playerIndex = 0;
    let Puntaje = 0;
    let canClick = false;
    let audioCtx;
    const tones = [261.63, 329.63, 392.00, 523.25, 200, 100]; // C4, E4, G4, C5, gameover

    function activarPantallaCompleta() {
      const elem = document.documentElement;


      if (elem.requestFullscreen) {
        elem.requestFullscreen();
      } else if (elem.webkitRequestFullscreen) {
        elem.webkitRequestFullscreen();
      } else if (elem.msRequestFullscreen) {
        elem.msRequestFullscreen();
      }
      document.querySelector('.fullscreen-btn').style.display = 'none';
    }

    function playTone(index) {
      if (!audioCtx) {
        audioCtx = new (window.AudioContext || window.webkitAudioContext)();
      }

      const oscillator = audioCtx.createOscillator();
      const gain = audioCtx.createGain();

      oscillator.type = 'square';
      oscillator.frequency.setValueAtTime(tones[index], audioCtx.currentTime);
      oscillator.connect(gain);
      gain.connect(audioCtx.destination);

      oscillator.start();
      gain.gain.exponentialRampToValueAtTime(0.00001, audioCtx.currentTime + 0.5);
    }

    function flash(btn) {
      btn.classList.add('active');
      setTimeout(() => btn.classList.remove('active'), 300);
    }

    function playSequence() {
      canClick = false;
      let i = 0;
      const interval = setInterval(() => {
        const idx = sequence[i];
        const btn = buttons[idx];
        flash(btn);
        playTone(idx);
        i++;
        if (i >= sequence.length) {
          clearInterval(interval);
          canClick = true;
        }
      }, 600);
    }

    function nextRound() {
      const next = Math.floor(Math.random() * 4);
      sequence.push(next);
      playerIndex = 0;
      playSequence();
    }

    function resetGame() {
      sequence = [];
      playerIndex = 0;


    }

    buttons.forEach(btn => {
      btn.addEventListener('click', () => {
        if (!canClick) return;

        const id = parseInt(btn.dataset.id);
        flash(btn);


        if (id === sequence[playerIndex]) {
          playTone(id);
          playerIndex++;

          if (playerIndex === sequence.length) {
            Puntaje = playerIndex;
            document.getElementById("gamestate").style.color = "#0A0";
            if (playerIndex <= 1)
              document.getElementById("gamestate").innerHTML = "Vamos";
            if (playerIndex > 2)
              document.getElementById("gamestate").innerHTML = "Vas bien";
            if (playerIndex > 10 && playerIndex < 20)
              document.getElementById("gamestate").innerHTML = "Excelente";
            if (playerIndex > 20)
              document.getElementById("gamestate").innerHTML = "Increible";
            document.getElementById("score").innerHTML = "Puntaje:" + Puntaje;
            setTimeout(() => nextRound(), 1000);
          }
        } else {
          playTone(4);
          playTone(5);
          playTone(4);
          playTone(5);
          document.getElementById("gamestate").style.color = "#f00";
          document.getElementById("gamestate").innerHTML = "Intentalo de Nuevo";
          document.getElementById("score").innerHTML = "Puntaje Maximo:" + Puntaje;
          //alert('❌ Fallaste. Intenta otra vez.');
          resetGame();
        }
      });
    });

    startBtn.addEventListener('click', () => {
      document.getElementById("gamestate").style.color = "#fff";
      document.getElementById("gamestate").innerHTML = "Iniciando";

      const sonidoInicio = new Audio('Claro.mp3'); // URL al tono online
      sonidoInicio.currentTime = 0;

      let sonidoReprodujo = false;

      // Si carga y se reproduce bien
      sonidoInicio.play().then(() => {
        sonidoReprodujo = true;
      }).catch((error) => {
        console.warn("⚠️ No se pudo reproducir el sonido:", error);
        // continuar el juego si no se pudo reproducir
        resetGame();
        nextRound();
      });

      // Esperar a que termine (si logró reproducirse)
      sonidoInicio.onended = () => {
        if (sonidoReprodujo) {
          resetGame();
          nextRound();
          Puntaje = 0;
          document.getElementById("score").innerHTML = "Puntaje:" + Puntaje;
        }
      };

    });

    document.addEventListener('fullscreenchange', () => {
      if (!document.fullscreenElement) {
        document.querySelector('.fullscreen-btn').style.display = 'flex';
      }
    });
  </script>
</body>
</html>

